{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/mascotas.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction MascotasComponent_tr_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function MascotasComponent_tr_50_Template_button_click_12_listener() {\n      const mascota_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editarMascota(mascota_r2));\n    });\n    i0.ɵɵtext(13, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function MascotasComponent_tr_50_Template_button_click_14_listener() {\n      const mascota_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.eliminarMascota(mascota_r2._id));\n    });\n    i0.ɵɵtext(15, \"Eliminar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const mascota_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mascota_r2.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mascota_r2.especie);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mascota_r2.raza);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mascota_r2.edad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mascota_r2.dueno);\n  }\n}\nexport let MascotasComponent = /*#__PURE__*/(() => {\n  class MascotasComponent {\n    constructor(mascotasService) {\n      this.mascotasService = mascotasService;\n      this.mascotas = [];\n      this.mascotaForm = {\n        nombre: '',\n        especie: '',\n        raza: '',\n        edad: 0,\n        dueno: ''\n      };\n      this.mascotaEditando = null;\n    }\n    ngOnInit() {\n      this.cargarMascotas();\n    }\n    cargarMascotas() {\n      this.mascotasService.getMascotas().subscribe({\n        next: data => {\n          this.mascotas = data;\n        },\n        error: err => {\n          console.error('Error:', err);\n          alert('Error al cargar mascotas');\n        }\n      });\n    }\n    guardarMascota() {\n      if (this.mascotaEditando && this.mascotaEditando._id) {\n        this.mascotasService.actualizarMascota(this.mascotaEditando._id, this.mascotaForm).subscribe({\n          next: () => {\n            this.cargarMascotas();\n            this.limpiarFormulario();\n          },\n          error: err => console.error('Error:', err)\n        });\n      } else {\n        this.mascotasService.crearMascota(this.mascotaForm).subscribe({\n          next: () => {\n            this.cargarMascotas();\n            this.limpiarFormulario();\n          },\n          error: err => console.error('Error:', err)\n        });\n      }\n    }\n    editarMascota(mascota) {\n      this.mascotaEditando = mascota;\n      this.mascotaForm = {\n        ...mascota\n      };\n    }\n    eliminarMascota(id) {\n      if (!id) return;\n      if (confirm('¿Eliminar esta mascota?')) {\n        this.mascotasService.eliminarMascota(id).subscribe({\n          next: () => this.cargarMascotas(),\n          error: err => console.error('Error:', err)\n        });\n      }\n    }\n    limpiarFormulario() {\n      this.mascotaForm = {\n        nombre: '',\n        especie: '',\n        raza: '',\n        edad: 0,\n        dueno: ''\n      };\n      this.mascotaEditando = null;\n    }\n    static {\n      this.ɵfac = function MascotasComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || MascotasComponent)(i0.ɵɵdirectiveInject(i1.MascotasService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MascotasComponent,\n        selectors: [[\"app-mascotas\"]],\n        standalone: false,\n        decls: 51,\n        vars: 8,\n        consts: [[1, \"container\"], [1, \"form-card\"], [3, \"ngSubmit\"], [\"type\", \"text\", \"name\", \"nombre\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"especie\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"raza\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"name\", \"edad\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"dueno\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"submit\"], [\"type\", \"button\", 3, \"click\"], [1, \"table-card\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n        template: function MascotasComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n            i0.ɵɵtext(2, \"Gesti\\u00F3n de Mascotas\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"h2\");\n            i0.ɵɵtext(5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"form\", 2);\n            i0.ɵɵlistener(\"ngSubmit\", function MascotasComponent_Template_form_ngSubmit_6_listener() {\n              return ctx.guardarMascota();\n            });\n            i0.ɵɵelementStart(7, \"div\")(8, \"label\");\n            i0.ɵɵtext(9, \"Nombre:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"input\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function MascotasComponent_Template_input_ngModelChange_10_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.mascotaForm.nombre, $event) || (ctx.mascotaForm.nombre = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\")(12, \"label\");\n            i0.ɵɵtext(13, \"Especie:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"input\", 4);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function MascotasComponent_Template_input_ngModelChange_14_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.mascotaForm.especie, $event) || (ctx.mascotaForm.especie = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"div\")(16, \"label\");\n            i0.ɵɵtext(17, \"Raza:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"input\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function MascotasComponent_Template_input_ngModelChange_18_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.mascotaForm.raza, $event) || (ctx.mascotaForm.raza = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\")(20, \"label\");\n            i0.ɵɵtext(21, \"Edad:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"input\", 6);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function MascotasComponent_Template_input_ngModelChange_22_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.mascotaForm.edad, $event) || (ctx.mascotaForm.edad = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(23, \"div\")(24, \"label\");\n            i0.ɵɵtext(25, \"Due\\u00F1o:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"input\", 7);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function MascotasComponent_Template_input_ngModelChange_26_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.mascotaForm.dueno, $event) || (ctx.mascotaForm.dueno = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"button\", 8);\n            i0.ɵɵtext(28);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"button\", 9);\n            i0.ɵɵlistener(\"click\", function MascotasComponent_Template_button_click_29_listener() {\n              return ctx.limpiarFormulario();\n            });\n            i0.ɵɵtext(30, \"Limpiar\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(31, \"div\", 10)(32, \"h2\");\n            i0.ɵɵtext(33, \"Lista de Mascotas\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"table\")(35, \"thead\")(36, \"tr\")(37, \"th\");\n            i0.ɵɵtext(38, \"Nombre\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(39, \"th\");\n            i0.ɵɵtext(40, \"Especie\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"th\");\n            i0.ɵɵtext(42, \"Raza\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"th\");\n            i0.ɵɵtext(44, \"Edad\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"th\");\n            i0.ɵɵtext(46, \"Due\\u00F1o\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(47, \"th\");\n            i0.ɵɵtext(48, \"Acciones\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(49, \"tbody\");\n            i0.ɵɵtemplate(50, MascotasComponent_tr_50_Template, 16, 5, \"tr\", 11);\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.mascotaEditando ? \"Editar Mascota\" : \"Nueva Mascota\");\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.mascotaForm.nombre);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.mascotaForm.especie);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.mascotaForm.raza);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.mascotaForm.edad);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.mascotaForm.dueno);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.mascotaEditando ? \"Actualizar\" : \"Guardar\");\n            i0.ɵɵadvance(22);\n            i0.ɵɵproperty(\"ngForOf\", ctx.mascotas);\n          }\n        },\n        dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n        styles: [\".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.form-card[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]{background:#fff;padding:20px;margin:20px 0;border-radius:8px;box-shadow:0 2px 4px #0000001a}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border:none;border-radius:4px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]{background:#007bff;color:#fff}button[type=button][_ngcontent-%COMP%]{background:#6c757d;color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background:#f8f9fa}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;font-size:14px}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#28a745;color:#fff}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#dc3545;color:#fff}\"]\n      });\n    }\n  }\n  return MascotasComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}